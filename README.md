# BorderControl
# Руководство по запуску модулей обработки видео

## Скрипты для работы с камерой и обработки изображений

### run_camstitcher.sh
Создает панорамное изображение с использованием камеры.

**Запуск:**
```bash
chmod +x run_camstitcher.sh
./run_camstitcher.sh
```

**Особенности:**
- Автоматически создает директорию `/stitcher` при необходимости
- Проверяет доступность камеры `/dev/video0`
- Сохраняет результат в `/stitcher/panorama_output.jpg`
- Для завершения работы нажмите Ctrl+C

### run_segcv.sh
Запускает детектор дорожного покрытия и полей.

**Запуск:**
```bash
chmod +x run_segcv.sh
./run_segcv.sh
```

**Особенности:**
- Проверяет наличие камеры перед запуском
- Использует скрипт `segmentation/scv_cam.py`
- Автоматически переходит в директорию скрипта

### run_segsift.sh
Трекинг БПЛА с использованием панорамного изображения.

**Запуск:**
```bash
chmod +x run_segsift.sh
./run_segsift.sh
```

**Параметры:**
- `panorama_output.jpg` - панорамное изображение
- Интервал обработки кадров: 10
- Использует скрипт `segmentation/ssift_cam.py`

### run_segcvsift.sh
Параллельный запуск детектора и трекера.

**Запуск:**
```bash
chmod +x run_segcvsift.sh
./run_segcvsift.sh
```

**Особенности:**
- Запускает оба модуля одновременно
- Сохраняет логи в `segmentation/segmentation/` и `segmentation/tracking_logs/`
- Обрабатывает ошибки выполнения подпроцессов

## Предварительные требования

Установите необходимые зависимости:
```bash
sudo apt install python3-opencv python3-numpy
```

## Проверка системы

Все скрипты автоматически проверяют:
- Наличие камеры `/dev/video0`
- Установленные Python-зависимости
- Существование необходимых файлов и директорий

## Порядок работы

1. Сначала создайте панораму: `run_camstitcher.sh`
2. Затем запустите нужные модули обработки:
   - Детекция: `run_segcv.sh`
   - Трекинг: `run_segsift.sh`
   - Или оба сразу: `run_segcvsift.sh`

## Логирование

Скрипты ведут логирование в соответствующих директориях:
- Детекция: `segmentation/segmentation/`
- Трекинг: `segmentation/tracking_logs/`

## Обработка ошибок

При возникновении ошибок скрипты:
- Выводят подробное сообщение об ошибке
- Завершаются с соответствующим кодом ошибки
- Предоставляют информацию для диагностики